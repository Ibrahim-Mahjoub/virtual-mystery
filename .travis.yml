sudo: required
addons:
  chrome: stable

language: node_js
node_js:
  - "8"
  
 services:
  - docker

branches:
  only:
    - master

before_script:
  - cd src/vm-django
  - docker-compose up
  - npm install -g @angular/cli
  - cd src/vm-angular
  - npm install
  - npm install --save-dev @angular-devkit/build-angular

script:
  - ng test --watch=false --browsers=ChromeHeadless
  - ng build --prod --aot
  
